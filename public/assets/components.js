document.querySelectorAll('[data-pos-component="Select"]').forEach((e=>{const t=e.querySelector(".pos-select__placeholder"),l=e.querySelector(".pos-select__opener"),c=e.querySelector(".pos-select__options"),s=e.querySelector(".pos-select__head");let d=-1;const o=t=>{t.stopPropagation(),c.classList.toggle("hidden");const l=e.querySelectorAll(".pos-select__opener > div");l[0].classList.toggle("hidden"),l[1].classList.toggle("hidden")},i=t=>{t.stopPropagation(),c.classList.add("hidden");const l=e.querySelectorAll(".pos-select__opener > div");l[0].classList.remove("hidden"),l[1].classList.add("hidden"),a(-1)},a=e=>{const t=c.children[d],l=c.children[e];t&&t.classList.remove("bg-highlighted"),l&&l.classList.add("bg-highlighted"),d=e};s.addEventListener("click",o),document.addEventListener("click",(t=>{!e.contains(t.target)&&i(t)})),l.addEventListener("click",o),t.addEventListener("click",o),e.addEventListener("keydown",(e=>{if(40===e.keyCode&&d<c.children.length-1&&(e.preventDefault(),a(d+1)),38===e.keyCode&&d>0&&(e.preventDefault(),a(d-1)),13===e.keyCode||32===e.keyCode)if(e.preventDefault(),-1==d)o(e);else{const e=c.children[d].querySelector('[type="checkbox"]');e?e.click():c.children[d].click()}27===e.keyCode&&i(e)}));const r=e.querySelector(".pos-select--multi-native");r&&(e.querySelectorAll('[type="checkbox"]').forEach((l=>{l.addEventListener("change",(()=>{const c=e.querySelector(`option[value="${l.value}"]`);c.selected=!c.selected,e.querySelector(`[data-value="${l.value}"]`).classList.toggle("hidden"),e.querySelectorAll('[type="checkbox"]:checked').length?t.classList.add("hidden"):t.classList.remove("hidden")}))})),e.querySelectorAll(".pos-select__tags > div").forEach((t=>{t.addEventListener("click",(l=>{l.stopPropagation();const c=t.getAttribute("data-value");e.querySelector(`input[value="${c}"]`).click(),e.querySelector(`option[value="${c}"]`).selected=!1,t.classList.add("hidden")}))})),r.addEventListener("change",(()=>{e.querySelectorAll(".pos-select--multi-native > option").forEach((l=>{const c=l.value,s=e.querySelector(`input[value="${c}"]`),d=e.querySelector(`[data-value="${c}"]`);l.selected?(s.checked=!0,d.classList.remove("hidden")):(s.checked=!1,d.classList.add("hidden")),e.querySelectorAll('[type="checkbox"]:checked').length?t.classList.add("hidden"):t.classList.remove("hidden")}))})));const n=e.querySelector(".pos-select--simple-native");if(n){e.querySelector(".pos-select__tags").addEventListener("click",o);const l=()=>{e.querySelectorAll(".pos-select__tags > div").forEach((e=>{e.getAttribute("data-value")==n.value?e.classList.remove("hidden"):e.classList.add("hidden")})),e.querySelectorAll(".pos-select__options > div").forEach((e=>{e.getAttribute("data-value")==n.value?e.classList.add("bg-highlighted"):e.classList.remove("bg-highlighted")})),n.value?t.classList.add("hidden"):t.classList.remove("hidden")};e.querySelectorAll(".pos-select__options > div").forEach((e=>{const t=e.getAttribute("data-value");e.addEventListener("click",(e=>{n.value=t,o(e),l()}))})),n.addEventListener("change",(()=>{l()}))}}));