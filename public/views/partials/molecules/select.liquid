---
metadata:
  name: Select POC
  params:
    id: mySelect
    name: mySelect
    variant:
      - basic
      - checkbox
      - radio
  styleguide:
    params:
      variant: checkbox
---
{% capture options %}
[
  { "label": "Lorem", "value": "lorem"},
  { "label": "Ipsum", "value": "ipsum"},
  { "label": "Dolor", "value": "dolor"}
 ]
{% endcapture %}
{% liquid
  assign options = options | parse_json
  assign id = params.id | default: "mySelect"
  assign name = params.name | default: "mySelect"
  assign variant = params.variant | default: checkbox
%}

<div data-pos-component="Select" class="relative inline-block" id="{{id}}">
  <div class="flex items-center border border-input-border bg-panel py-2 px-2 h-11" tabindex="0">
    <div class="placeholder">Select an option</div>
    <div class="tags flex">
      {% for option in options %}
      <label for="{{option.value}}" class="hidden mr-2 cursor-pointer" data-pos-select-tag="{{option.value}}">
        {% assign chip_params = '{}' | parse_json | hash_merge: closable: true, variant: 'clickable', content: option.label %}
        {% theme_render_rc 'components/molecules/chip', params: chip_params %}
      </label>
      {% endfor %}
    </div>
    <div class="pos-select-opener ml-3 cursor-pointer">
      {% assign icon_params = '{}' | parse_json | hash_merge: name: 'dashDown' %}
      <div>
        {% theme_render_rc 'components/atoms/icon', params: icon_params %}
      </div>
      {% assign icon_params = '{}' | parse_json | hash_merge: name: 'dashUp' %}
      <div class="hidden">
        {% theme_render_rc 'components/atoms/icon', params: icon_params %}
      </div>
    </div>
  </div>

  <div class="pos-select-options hidden absolute bg-panel shadow-card px-6 pt-4 z-50">
    {% for option in options %}
    {% assign input_params = '{}' | parse_json | hash_merge: name: name, id: option.value  %}
    <div class="flex items-center pb-3">
      {% if variant == 'checkbox' %}
        {% theme_render_rc 'components/atoms/checkbox', params: input_params %}
      {% endif %}
      {% if variant == 'radio' %}
        {% theme_render_rc 'components/atoms/radio', params: input_params %}
      {% endif %}
      <label class="ml-2 cursor-pointer" for="{{option.value}}">{{option.label}}</label>
    </div>
    {% endfor %}
  </div>
</div>
