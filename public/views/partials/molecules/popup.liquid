---
metadata:
  name: Popup
  params:
    tag: "div"
    id: 'myPopup'
    title: ''
    content: ''
---
{% liquid
  assign id = params.id
  assign title = params.title | default: 'Popup title'
  assign content = params.content | default: 'Sample content'
  assign icon_params = '{}' | parse_json | hash_merge: name: 'x', class: 'w-4 h-4'

%}
{% capture popup_content %}
<div class="hidden bg-inverted w-96 p-6" data-popup-id="{{id}}">
  <div class="flex justify-between">
    {% assign headline_params = '{}' | parse_json | hash_merge: tag: 'h2', variant: 'h2', content: title %}
    {% theme_render_rc 'components/atoms/heading', params: headline_params %}
    <div class="pt-4 pr-4 cursor-pointer" data-popup-open-id="{{id}}">
      {% theme_render_rc 'components/atoms/icon', params: icon_params %}
    </div>
  </div>
  <hr>
  <div>
    {% print content %}
  </div>
</div>
{% endcapture %}

{% assign backdrop_params = '{}' | parse_json | hash_merge: content: popup_content, hidden: true, backdrop_id: id %}
{% theme_render_rc 'components/atoms/backdrop',
    params: backdrop_params
%}
