---
metadata:
  name: Status label
  params:
    tag: "div"
    severity:
      - info
      - error
      - success
      - warning
    icon:
      - true
      - false
    content: Fill your profile
  styleguide:
    - severity: info
      content: Draft
      icon: true
    - severity: error
      content: Closed
      icon: true
    - severity: success
      content: Open until 20 July 2021
      icon: true
    - severity: warning
      content: Under Evaluation
      icon: true
    - severity: info
      content: Draft
      icon: false
    - severity: error
      content: Closed
      icon: false
    - severity: success
      content: Open until 20 July 2021
      icon: false
    - severity: warning
      content: Under Evaluation
      icon: false
---
{% parse_json icons %}
{
  "success": { "name": "checkBadge", "color": "text-confirmation", "bgcolor": "bg-confirmation" },
  "error": { "name": "warningCloud", "color": "text-important", "bgcolor": "bg-important" },
  "info": { "name": "info", "color": "text-graphic", "bgcolor": "bg-graphic" },
  "warning": { "name": "warning", "color": "text-warning", "bgcolor": "bg-warning" }
}
{% endparse_json %}
{% liquid
  assign tag = params.tag | default: 'div'
  assign icon = params.icon | default: false
  assign severity = params.severity | default: 'info'
  assign variant = params.variant | default: 'normal'
  assign content = params.content

  assign classes = 'px-2 py-1 leading-5 rounded-md shadow-card flex items-center align-center h-10 '


  assign classes = classes | append: ' border bg-inverted'
  assign icon_classes = 'w-6 h-6 mr-2 ' | append: icons[severity].color



  assign icon_params = '{}' | parse_json | hash_merge: name: icons[severity].name, class: icon_classes
%}
<div class="inline-block">
<{{tag}} class="{{classes}}">
    {% if icon == true %}
      {% theme_render_rc 'components/atoms/icon', params: icon_params %}
    {% else %}
      <div class="rounded-full block w-3 h-3 mr-2 {{icons[severity].bgcolor}}"></div>
    {% endif %}
    {{content}}
</{{tag}}>
</div>
